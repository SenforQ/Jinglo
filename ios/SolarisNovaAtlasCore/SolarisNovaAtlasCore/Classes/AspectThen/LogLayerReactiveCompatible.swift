
//: Declare String Begin

/*: "CacheAddrServerUrlSelectIndexKey" :*/
fileprivate let appIndexNameFormat:[UInt8] = [0xee,0xcc,0xce,0xc5,0xc8,0xec,0xc9,0xc9,0xdf,0xfe,0xc8,0xdf,0xdb,0xc8,0xdf,0xf8,0xdf,0xc1,0xfe,0xc8,0xc1,0xc8,0xce,0xd9,0xe4,0xc3,0xc9,0xc8,0xd5,0xe6,0xc8,0xd4]

private func playerCell(currency num: UInt8) -> UInt8 {
    return num ^ 173
}

/*: "CacheAppleLoginNickNameKey" :*/
fileprivate let noti_numberTempData:String = "adjustment valueCach"
fileprivate let constArrayFormat:[Character] = ["o","g","i","n","N","i","c","k","N","a","m","e","K","e","y"]

/*: "CacheLoginUidCacheKey" :*/
fileprivate let constAfterStr:[Character] = ["C","a","c","h","e","L","o","g","i","n","U","i","d","C","a","c","h"]
fileprivate let showSourcePath:String = "data device minimumeKey"

/*: "CacheLoginUserInfoCacheKey" :*/
fileprivate let constGestureValue:[Character] = ["C","a","c","h","e","L","o","g","i","n","U","s"]
fileprivate let user_uponName:String = "left let data usererIn"
fileprivate let kViewUrl:String = "foCachequal equal"

/*: "CacheLastLoginTypeCacheKey" :*/
fileprivate let data_userMsg:[Character] = ["C","a","c","h","e","L","a"]
fileprivate let k_stopMessage:[Character] = ["s","t","L","o","g","i","n","T","y","p","e","C","a","c","h","e","K","e","y"]

/*: "CacheLoginUserConfigKey" :*/
fileprivate let constButtonId:[Character] = ["C","a","c","h","e","L","o","g","i","n","U","s"]
fileprivate let constDateStr:[Character] = ["e","r","C","o","n","f","i","g","K","e","y"]

/*: "CacheAppConfigKey" :*/
fileprivate let showTopName:String = "last title view contentCacheA"
fileprivate let const_cutData:String = "figKeyin app let"

/*: "CacheUserTagCacheUrlKey" :*/
fileprivate let userDataMakeMsg:[Character] = ["C","a","c","h","e","U","s"]
fileprivate let userHeadName:String = "name direction file in apperTagC"
fileprivate let showManagerMsg:String = "achgift"

/*: "CacheUserCookiesKey" :*/
fileprivate let dataEventPath:String = "CacheUguard voice for moment"
fileprivate let app_pathTitle:String = "height self model large guardkiesKey"

/*: "CacheHomeTabTurnOnNotificationsKey" :*/
fileprivate let constClickContent:[UInt8] = [0xaf,0xcd,0xcf,0xd4,0xd1,0xb4,0xdb,0xd9,0xd1,0xc0,0xcd,0xce,0xc0,0xe1,0xde,0xda,0xbb,0xda,0xba,0xdb,0xe0,0xd5,0xd2,0xd5,0xcf,0xcd,0xe0,0xd5,0xdb,0xda,0xdf,0xb7,0xd1,0xe5]

fileprivate func findOut(source num: UInt8) -> UInt8 {
    let value = Int(num) - 108
    if value < 0 {
        return UInt8(value + 256)
    } else {
        return UInt8(value)
    }
}

/*: "CacheMessageTabTurnOnNotificationsKey" :*/
fileprivate let const_toMsg:[UInt8] = [0xaa,0x88,0x8a,0x81,0x8c,0xa4,0x8c,0x9a,0x9a,0x88,0x8e,0x8c,0xbd,0x88,0x8b,0xbd,0x9c,0x9b,0x87,0xa6,0x87,0xa7,0x86,0x9d,0x80,0x8f,0x80,0x8a,0x88,0x9d,0x80,0x86,0x87,0x9a,0xa2,0x8c,0x90]

private func toALowerPlace(lack num: UInt8) -> UInt8 {
    return num ^ 233
}

/*: "CacheMessageTabCloseNotificationsKey" :*/
fileprivate let mainPhoneStr:[UInt8] = [0x68,0x4a,0x48,0x43,0x4e,0x66,0x4e,0x58,0x58,0x4a,0x4c,0x4e,0x7f,0x4a,0x49,0x68,0x47,0x44,0x58,0x4e,0x65,0x44,0x5f,0x42,0x4d,0x42,0x48,0x4a,0x5f,0x42,0x44,0x45,0x58,0x60,0x4e,0x52]

private func tempCell(source num: UInt8) -> UInt8 {
    return num ^ 43
}

/*: "CacheCallShowTag" :*/
fileprivate let mainViewChangeFormat:String = "Cacheshare extension number"
fileprivate let const_labSystemIndexId:String = "wTagif value"

/*: "CacheFirstShowIntimateGuide" :*/
fileprivate let data_thoughtPath:String = "Cachecolor format number"
fileprivate let userEnableContent:String = "Firsimage else"
fileprivate let showVoiceMsg:[Character] = ["t","S","h","o","w","I","n","t","i","m","a","t","e","G","u","i","d","e"]

/*: "CacheFreeTipsViewIsShow_ :*/
fileprivate let constFaceStr:[Character] = ["C","a","c"]
fileprivate let app_playerMsg:String = "heFrestatus color kit comment equal"
fileprivate let dataUserId:String = "iewIsSin to name"

/*: "CacheLiveTabExplainIsShow_ :*/
fileprivate let showTitleId:String = "CacheLivecolor after info store catch"
fileprivate let app_valueTitle:[Character] = ["T","a","b","E","x","p","l"]
fileprivate let mainIndicatorKey:String = "add makeainI"

/*: "CacheMaleUnsubscribedAlertIsShow_ :*/
fileprivate let main_layerResultKey:[UInt8] = [0x82,0xa0,0xa2,0xa7,0xa4,0x8c,0xa0,0xab,0xa4,0x94,0xad,0xb2,0xb4,0xa1,0xb2,0xa2,0xb1,0xa8,0xa1,0xa4,0xa3,0x80,0xab,0xa4,0xb1,0xb3,0x88,0xb2,0x92,0xa7,0xae,0xb6,0x9e]

fileprivate func bothColor(list num: UInt8) -> UInt8 {
    let value = Int(num) + 193
    if value > 255 {
        return UInt8(value - 256)
    } else {
        return UInt8(value)
    }
}

/*: "CacheAIIntimacyViewIsShow" :*/
fileprivate let noti_backgroundStr:[Character] = ["C","a","c","h","e","A"]
fileprivate let user_maleStr:[Character] = ["I","I","n","t","i","m","a"]
fileprivate let appVideoWriteData:[Character] = ["c","y","V","i","e","w","I","s","S","h","o","w"]

/*: "isFirstShowAnimatCacheKey" :*/
fileprivate let dataWithStr:[Character] = ["i","s","F","i","r","s","t","S","h","o","w","A","n","i","m","a","t"]
fileprivate let noti_sizeName:[Character] = ["C","a","c","h","e","K","e","y"]

/*: "isFirstShowMatchTipsViewCacheKey" :*/
fileprivate let dataFrameMessage:[UInt8] = [0xae,0xb8,0x8b,0xae,0xb7,0xb8,0xb9,0x98,0xad,0xb4,0xbc,0x92,0xa6,0xb9,0xa8,0xad,0x99,0xae,0xb5,0xb8,0x9b,0xae,0xaa,0xbc,0x88,0xa6,0xa8,0xad,0xaa,0x90,0xaa,0xbe]

fileprivate func dataField(model num: UInt8) -> UInt8 {
    let value = Int(num) + 187
    if value > 255 {
        return UInt8(value - 256)
    } else {
        return UInt8(value)
    }
}

/*: "isShowCleanAnimatCacheKey" :*/
fileprivate let noti_toValue:String = "isShowview type"
fileprivate let app_shareStr:[Character] = ["i","m","a","t","C","a","c","h","e","K","e","y"]

/*: "isConversationIntimateCacheKey" :*/
fileprivate let const_imageUrl:[Character] = ["i","s","C","o","n","v","e","r","s","a","t","i","o","n","I"]
fileprivate let main_pathTitle:String = "nnowm"
fileprivate let main_largeKey:[Character] = ["c","h","e","K","e","y"]

/*: "sendAutoGreetIsTo" :*/
fileprivate let show_countName:String = "object usersendAu"
fileprivate let noti_makeStr:String = "video return broadcast make intoGree"
fileprivate let show_removeMsg:String = "gin timingtIsTo"

/*: "SaveInviteCodeKey" :*/
fileprivate let mainAgeUrl:String = "Saveof video front to"
fileprivate let user_tempUrl:[Character] = ["C","o","d","e","K","e","y"]

/*: "PrivateChatTipsTitle" :*/
fileprivate let notiExtraMessage:String = "Privmanager at field"
fileprivate let kAddUrl:String = "text view height style cellhatTi"
fileprivate let main_showData:String = "viewe"

/*: "/Documents/User/record/" :*/
fileprivate let main_toTitle:String = "interval label filter digital live/Docum"
fileprivate let user_intervalMomentStr:String = "User/post library center input message"
fileprivate let constWillFormat:String = "size in norrecord/"

/*: "/Documents/User/voice/" :*/
fileprivate let user_imageFemaleViewTitle:[Character] = ["/","D","o","c","u","m","e","n","t","s","/","U","s","e","r","/","v","o","i"]
fileprivate let noti_particleWaitStr:String = "ce/image as"

/*: "MessageIntimatePhoto" :*/
fileprivate let app_toolStr:String = "Messany data view count"
fileprivate let noti_equalTitlePath:[Character] = ["a","t","e","P","h","o","t","o"]

/*: "IntimateDict_ :*/
fileprivate let k_regularErrorToMsg:String = "in homeInti"
fileprivate let userViewFeedData:String = "hidden live in view imagemateDict_"

/*: "MessageIntimateVideo" :*/
fileprivate let showModeMessage:[Character] = ["M","e","s","s","a","g","e","I","n","t","i","m","a","t"]
fileprivate let userLineTitle:[Character] = ["e","V","i","d","e","o"]

/*: "MessageAskForGift" :*/
fileprivate let main_colorTitle:[Character] = ["M","e","s","s","a","g","e","A","s","k","F","o","r","G","i","f","t"]

/*: "AskForGiftArr_ :*/
fileprivate let dataToolId:[Character] = ["A","s","k","F","o","r","G","i"]
fileprivate let data_lengthId:String = "op contentftArr_"

//: Declare String End

// __DEBUG__
// __CLOSE_PRINT__
//
//  LogLayerReactiveCompatible.swift
//  AbroadTalking
//
//  Created by Hemming on 2022/8/27.
//

//: import UIKit
import UIKit

//: let Defaults = UserDefaults.standard
let constDevicePath = UserDefaults.standard

// MARK: - UserDefaults

//: public let TalkingAddrServerUrlSelectIndexKey   = "CacheAddrServerUrlSelectIndexKey"
public let main_halfCellFormat = String(bytes: appIndexNameFormat.map{playerCell(currency: $0)}, encoding: .utf8)!
// 苹果登录只会在第一次授权时获得昵称信息，需缓存起来，防止用户终止流程再次获取不到昵称
//: public let TalkingAppleLoginNickNameKey             = "CacheAppleLoginNickNameKey"
public let dataShowTitle = (String(noti_numberTempData.suffix(4)) + "eAppleL" + String(constArrayFormat))
//: public let TalkingLoginUidCacheKey                  = "CacheLoginUidCacheKey"                  // uid缓存
public let mainErrMessage = (String(constAfterStr) + String(showSourcePath.suffix(4))) // uid缓存
//: public let TalkingLoginUserInfoCacheKey             = "CacheLoginUserInfoCacheKey"             // 用户信息缓存
public let main_playId = (String(constGestureValue) + String(user_uponName.suffix(4)) + String(kViewUrl.prefix(6)) + "eKey") // 用户信息缓存
//: public let TalkingLastLoginTypeCacheKey             = "CacheLastLoginTypeCacheKey"             // 隐私协议弹窗是否已展示
public let userSuccessPath = (String(data_userMsg) + String(k_stopMessage)) // 隐私协议弹窗是否已展示
//: public let TalkingLoginUserConfigKey                = "CacheLoginUserConfigKey"                // 用户配置接口
public let constFailFormat = (String(constButtonId) + String(constDateStr)) // 用户配置接口
//: public let TalkingAppConfigKey                      = "CacheAppConfigKey"                      // APP配置接口
public let dataVideoTitle = (String(showTopName.suffix(6)) + "ppCon" + String(const_cutData.prefix(6))) // APP配置接口
//: public let TalkingUserTagCacheUrlKey                = "CacheUserTagCacheUrlKey"                // 用户标签
public let notiChangeUserMsg = (String(userDataMakeMsg) + String(userHeadName.suffix(6)) + showManagerMsg.replacingOccurrences(of: "gift", with: "e") + "UrlKey") // 用户标签
//: public let TalkingUserCookiesKey                    = "CacheUserCookiesKey"                    // 用户cookies
public let userRecordFormat = (String(dataEventPath.prefix(6)) + "serCoo" + String(app_pathTitle.suffix(7))) // 用户cookies
//: public let TalkingHomeTabTurnOnNotificationsKey     = "CacheHomeTabTurnOnNotificationsKey"     // homeTab_提醒打开系统通知
public let appTimeStr = String(bytes: constClickContent.map{findOut(source: $0)}, encoding: .utf8)! // homeTab_提醒打开系统通知
//: public let TalkingMessageTabTurnOnNotificationsKey  = "CacheMessageTabTurnOnNotificationsKey"  // messageTab_提醒打开系统通知
public let user_screenErrHalfTitle = String(bytes: const_toMsg.map{toALowerPlace(lack: $0)}, encoding: .utf8)! // messageTab_提醒打开系统通知
//: public let TalkingMessageTabCloseNotificationsKey   = "CacheMessageTabCloseNotificationsKey"   // message 提醒View关闭缓存
public let kTopStatusUseMessage = String(bytes: mainPhoneStr.map{tempCell(source: $0)}, encoding: .utf8)! // message 提醒View关闭缓存
//: public let TalkingCallShowTag                       = "CacheCallShowTag"                       // 女性接听时展示手势
public let dataHalfName = (String(mainViewChangeFormat.prefix(5)) + "CallSho" + String(const_labSystemIndexId.prefix(4))) // 女性接听时展示手势
//: public let TalkingFirstShowIntimateGuide            = "CacheFirstShowIntimateGuide"            // 消息详情首次展示亲密度动效
public let const_videoBackMsg = (String(data_thoughtPath.prefix(5)) + String(userEnableContent.prefix(4)) + String(showVoiceMsg)) // 消息详情首次展示亲密度动效

// 动态发布提示视图是否展示
//: public var TalkingFreeTipsViewIsShow: String {
public var k_askMsg: String {
    //: return "CacheFreeTipsViewIsShow_\(String(PunctuateThen.share.loginUserMode.userID))"
    return (String(constFaceStr) + String(app_playerMsg.prefix(5)) + "eTipsV" + String(dataUserId.prefix(6)) + "how_") + "\(String(PunctuateThen.share.loginUserMode.userID))"
}

// 女性直播“活跃认证说明页”是否已展示
//: public var TalkingLiveTabExplainIsShow: String {
public var appDeviceClickName: String {
    //: return "CacheLiveTabExplainIsShow_\(String(PunctuateThen.share.loginUserMode.userID))"
    return (String(showTitleId.prefix(9)) + String(app_valueTitle) + String(mainIndicatorKey.suffix(4)) + "sShow_") + "\(String(PunctuateThen.share.loginUserMode.userID))"
}

/// 男性未订阅弹窗是否已展示
//: public var TalkingMaleUnsubscribedAlertIsShow: String {
public var constAppId: String {
    //: return "CacheMaleUnsubscribedAlertIsShow_\(String(PunctuateThen.share.loginUserMode.userID))"
    return String(bytes: main_layerResultKey.map{bothColor(list: $0)}, encoding: .utf8)! + "\(String(PunctuateThen.share.loginUserMode.userID))"
}

// AI亲密度说明弹窗是否已展示
//: public let TalkingAIIntimacyViewIsShow = "CacheAIIntimacyViewIsShow"
public let userViewData = (String(noti_backgroundStr) + String(user_maleStr) + String(appVideoWriteData))

//: public let isFirstShowAnimatCacheKey  = "isFirstShowAnimatCacheKey"
public let app_seatUrl = (String(dataWithStr) + String(noti_sizeName))

//: public let isFirstShowMatchTipsViewCacheKey  = "isFirstShowMatchTipsViewCacheKey"
public let user_dismissPath = String(bytes: dataFrameMessage.map{dataField(model: $0)}, encoding: .utf8)!

//: public let isShowCleanAnimatCacheKey  = "isShowCleanAnimatCacheKey"
public let kPartyClickStr = (String(noti_toValue.prefix(6)) + "CleanAn" + String(app_shareStr))

//: public let isConversationIntimateCacheKey  = "isConversationIntimateCacheKey"
public let show_buttonText = (String(const_imageUrl) + main_pathTitle.replacingOccurrences(of: "now", with: "ti") + "ateCa" + String(main_largeKey))

/// 一键打招呼本地存储key
//: public let TalkingSendAutoGreetIsToKey  = "sendAutoGreetIsTo"
public let k_inputData = (String(show_countName.suffix(6)) + String(noti_makeStr.suffix(6)) + String(show_removeMsg.suffix(5)))

/// 邀请码
//: public let SaveInviteCodeKey  = "SaveInviteCodeKey"
public let kPositionStr = (String(mainAgeUrl.prefix(4)) + "Invite" + String(user_tempUrl))

/// 私聊底部提示语_
//: public let PrivateChatTipsTitle  = "PrivateChatTipsTitle"
public let const_buttonFormat = (String(notiExtraMessage.prefix(4)) + "ateC" + String(kAddUrl.suffix(5)) + "psTi" + main_showData.replacingOccurrences(of: "view", with: "tl"))

/** 语音文件录制存储的路径 */
//: public let Talking_Chat_record_SandboxPath = NSHomeDirectory().appending("/Documents/User/record/")
public let k_failureTitle = NSHomeDirectory().appending((String(main_toTitle.suffix(6)) + "ents/" + String(user_intervalMomentStr.prefix(5)) + String(constWillFormat.suffix(7))))
//: public let Talking_Chat_voice_SandboxPath = NSHomeDirectory().appending("/Documents/User/voice/")
public let notiBarRecordFormat = NSHomeDirectory().appending((String(user_imageFemaleViewTitle) + String(noti_particleWaitStr.prefix(3))))

//: @objcMembers public class AppCacheDefine: NSObject {
@objcMembers public class LogLayerReactiveCompatible: NSObject {
    //: @objc public class func getChatRecordPath() -> String {
    @objc public class func briquet() -> String {
        //: return Talking_Chat_record_SandboxPath
        return k_failureTitle
    }

    //: @objc public class func getChatVoicePath() -> String {
    @objc public class func takeItemStraightAndNarrow() -> String {
        //: return Talking_Chat_voice_SandboxPath
        return notiBarRecordFormat
    }

    /// 获取私密图片本地缓存文件
    //: @objc public static func getIntimatePhotoPath() -> String {
    public static func subWith() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageIntimatePhoto") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(app_toolStr.prefix(4)) + "ageIntim" + String(noti_equalTitlePath))) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = PunctuateThen.share.loginUid
        let uid = PunctuateThen.share.loginUid
        //: return cacheDict.appendingPathComponent("IntimateDict_\(uid)").path
        return cacheDict.appendingPathComponent((String(k_regularErrorToMsg.suffix(4)) + String(userViewFeedData.suffix(9))) + "\(uid)").path
    }

    /// 获取私密视频本地缓存文件
    //: @objc public static func getIntimateVideoPath() -> String {
    public static func boneOfTitleion() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageIntimateVideo") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(showModeMessage) + String(userLineTitle))) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = PunctuateThen.share.loginUid
        let uid = PunctuateThen.share.loginUid
        //: return cacheDict.appendingPathComponent("IntimateDict_\(uid)").path
        return cacheDict.appendingPathComponent((String(k_regularErrorToMsg.suffix(4)) + String(userViewFeedData.suffix(9))) + "\(uid)").path
    }

    /// 获取私密视频本地缓存文件
    //: @objc public static func getAskForGiftPath() -> String {
    public static func equalVoice() -> String {
        //: let fm = FileManager.default
        let fm = FileManager.default
        //: guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent("MessageAskForGift") else {
        guard let cacheDict = fm.urls(for: .cachesDirectory, in: .userDomainMask).first?.appendingPathComponent((String(main_colorTitle))) else {
            //: return URL(fileURLWithPath: "").path
            return URL(fileURLWithPath: "").path
        }
        //: if !fm.fileExists(atPath: cacheDict.path) {
        if !fm.fileExists(atPath: cacheDict.path) {
            //: try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
            try? fm.createDirectory(atPath: cacheDict.path, withIntermediateDirectories: true)
        }
        //: let uid = PunctuateThen.share.loginUid
        let uid = PunctuateThen.share.loginUid
        //: return cacheDict.appendingPathComponent("AskForGiftArr_\(uid)").path
        return cacheDict.appendingPathComponent((String(dataToolId) + String(data_lengthId.suffix(6))) + "\(uid)").path
    }
}

//: func createMsgVoicePath() {
func createMsgVoicePath() {
    //: _ = FileManager.createFolder(folderPath: Talking_Chat_record_SandboxPath)
    _ = FileManager.sizePath(folderPath: k_failureTitle)
    //: _ = FileManager.createFolder(folderPath: Talking_Chat_voice_SandboxPath)
    _ = FileManager.sizePath(folderPath: notiBarRecordFormat)
}
